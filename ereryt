-- [[ ·¥ò…™Íú±…™·¥õ  …™…¥Íú∞…™…¥…™·¥õ·¥á  Íú∞·¥Ä Ä·¥ç  (·¥Ä·¥ú·¥õ·¥è  ú·¥è·¥ò·¥ò·¥á Ä) ]]
-- OWNER: ‡πÑ‡∏Å‡∏£‡∏™‡∏£ ‡∏û‡∏¥‡∏™‡∏¥‡∏©‡∏ê‡πå ü´°

local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local TeleportService = game:GetService("TeleportService")
local HttpService = game:GetService("HttpService")
local LocalPlayer = Players.LocalPlayer

-- [[ ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏£‡∏∞‡∏ö‡∏ö ]]
local Config = {
    Enabled = true, -- ‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ó‡∏±‡∏ô‡∏ó‡∏µ‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏ô
    MineSpamRate = 0.05, -- ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ô Remote (‡∏£‡∏±‡∏ß‡∏°‡∏≤‡∏Å)
    CheckOreDelay = 0.1, -- ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡πá‡∏Ñ‡∏ß‡πà‡∏≤‡πÅ‡∏£‡πà‡∏´‡∏°‡∏î‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏±‡∏á
}

local MinePoints = {
    CFrame.new(244.637, 1308.860, -382.648),
    CFrame.new(236.195, 1306.692, -409.792),
    CFrame.new(347.330, 1374.914, -315.731),
    CFrame.new(267.250, 1295.463, -320.000),
    CFrame.new(60.117, 1188.191, -302.319),
    CFrame.new(91.089, 1192.837, -333.126),
    CFrame.new(97.882, 1192.999, -326.213),
    CFrame.new(1.620, 1180.207, -270.927),
    CFrame.new(23.018, 1184.838, -292.028),
    CFrame.new(-18.821, 1179.593, -260.221),
    CFrame.new(-5.044, 1180.888, -275.077),
    CFrame.new(-18.821, 1179.593, -260.221)
}

---------------------------------------------------------
-- [ ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏£‡∏∞‡∏ö‡∏ö‡∏ß‡∏≤‡∏£‡πå‡∏õ‡πÄ‡∏ã‡∏¥‡∏£‡πå‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå ]
---------------------------------------------------------
local function ServerHop()
    print("‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏´‡∏≤‡πÄ‡∏ã‡∏¥‡∏£‡πå‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå‡πÉ‡∏´‡∏°‡πà...")
    local sfUrl = "https://games.roblox.com/v1/games/" .. game.PlaceId .. "/servers/Public?sortOrder=Desc&limit=100"
    local success, result = pcall(function()
        return HttpService:JSONDecode(game:HttpGet(sfUrl))
    end)

    if success then
        for _, server in pairs(result.data) do
            if server.playing < server.maxPlayers and server.id ~= game.JobId then
                TeleportService:TeleportToPlaceInstance(game.PlaceId, server.id, LocalPlayer)
                return
            end
        end
    end
    -- ‡∏ñ‡πâ‡∏≤‡∏´‡∏≤‡πÑ‡∏°‡πà‡πÄ‡∏à‡∏≠‡πÉ‡∏´‡πâ‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà
    task.wait(2)
    ServerHop()
end

---------------------------------------------------------
-- [ ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÄ‡∏ä‡πá‡∏Ñ‡πÅ‡∏£‡πà‡πÅ‡∏•‡∏∞‡∏Ç‡∏∏‡∏î ]
---------------------------------------------------------
local function GetOreAt(pos)
    for _, v in pairs(workspace:GetDescendants()) do
        if v:IsA("BasePart") and (v.Name:find("Coal") or v.Name:find("Iron") or v.Name:find("Ore")) then
            if (v.Position - pos).Magnitude < 10 then return v end
        end
    end
    return nil
end

local function StartAutoFarm()
    local Character = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
    local HRP = Character:WaitForChild("HumanoidRootPart")

    print("‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ß‡∏á‡∏£‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏Ç‡∏∏‡∏î 12 ‡∏à‡∏∏‡∏î...")

    for i, targetCF in ipairs(MinePoints) do
        if not Config.Enabled then break end
        
        -- ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡πÑ‡∏õ‡∏à‡∏∏‡∏î‡πÅ‡∏£‡πà
        HRP.CFrame = targetCF + Vector3.new(0, 3, 0)
        task.wait(0.3) -- ‡∏£‡∏≠‡πÉ‡∏´‡πâ‡πÅ‡∏£‡πà‡πÇ‡∏´‡∏•‡∏î

        -- ‡∏Ç‡∏∏‡∏î‡∏à‡∏ô‡∏Å‡∏ß‡πà‡∏≤‡πÅ‡∏£‡πà‡∏à‡∏∞‡∏´‡∏≤‡∏¢
        while Config.Enabled do
            local ore = GetOreAt(targetCF.Position)
            if ore and ore.Parent then
                -- ‡∏™‡∏±‡πà‡∏á‡∏Ç‡∏∏‡∏î‡∏£‡∏±‡∏ß‡πÜ
                pcall(function()
                    ReplicatedStorage.Remotes.UsePickaxe:InvokeServer(targetCF)
                end)
                task.wait(Config.MineSpamRate) 
            else
                -- ‡πÅ‡∏£‡πà‡πÅ‡∏ï‡∏Å‡πÅ‡∏•‡πâ‡∏ß ‡πÑ‡∏õ‡∏à‡∏∏‡∏î‡∏ï‡πà‡∏≠‡πÑ‡∏õ
                print("‡∏à‡∏∏‡∏î‡∏ó‡∏µ‡πà " .. i .. " ‡πÄ‡∏Ñ‡∏•‡∏µ‡∏¢‡∏£‡πå!")
                break
            end
        end
    end

    -- ‡∏Ç‡∏∏‡∏î‡∏Ñ‡∏£‡∏ö 12 ‡∏à‡∏∏‡∏î‡πÅ‡∏•‡πâ‡∏ß ‡∏¢‡πâ‡∏≤‡∏¢‡πÄ‡∏ã‡∏¥‡∏£‡πå‡∏ü‡∏ó‡∏±‡∏ô‡∏ó‡∏µ
    print("‡∏Ç‡∏∏‡∏î‡∏Ñ‡∏£‡∏ö‡πÅ‡∏•‡πâ‡∏ß! ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏¢‡πâ‡∏≤‡∏¢‡πÄ‡∏ã‡∏¥‡∏£‡πå‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå...")
    ServerHop()
end

---------------------------------------------------------
-- [ ‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏õ‡∏¥‡∏î/‡∏õ‡∏¥‡∏î ‡πÅ‡∏•‡∏∞‡∏£‡∏∞‡∏ö‡∏ö‡∏•‡∏≤‡∏Å ]
---------------------------------------------------------
local function CreateUI()
    local sg = Instance.new("ScreenGui", LocalPlayer.PlayerGui)
    sg.Name = "PisitUltraFarm"
    
    local frame = Instance.new("Frame", sg)
    frame.Size = UDim2.new(0, 180, 0, 70)
    frame.Position = UDim2.new(0.5, -90, 0.05, 0)
    frame.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
    Instance.new("UICorner", frame)

    local btn = Instance.new("TextButton", frame)
    btn.Size = UDim2.new(0.9, 0, 0.7, 0)
    btn.Position = UDim2.new(0.05, 0, 0.15, 0)
    btn.BackgroundColor3 = Color3.fromRGB(50, 200, 50)
    btn.Text = "AUTO FARM: ON"
    btn.TextColor3 = Color3.new(1,1,1)
    btn.Font = "SourceSansBold"
    Instance.new("UICorner", btn)

    btn.MouseButton1Click:Connect(function()
        Config.Enabled = not Config.Enabled
        btn.Text = Config.Enabled and "AUTO FARM: ON" or "AUTO FARM: OFF"
        btn.BackgroundColor3 = Config.Enabled and Color3.fromRGB(50, 200, 50) or Color3.fromRGB(200, 50, 50)
        if Config.Enabled then task.spawn(StartAutoFarm) end
    end)
    
    -- ‡∏£‡∏∞‡∏ö‡∏ö‡∏•‡∏≤‡∏Å UI (Drag)
    local uis = game:GetService("UserInputService")
    local drag, dragInput, startPos, startInput
    frame.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then drag = true; startInput = input.Position; startPos = frame.Position end
    end)
    uis.InputChanged:Connect(function(input)
        if drag and input.UserInputType == Enum.UserInputType.MouseMovement then
            local delta = input.Position - startInput
            frame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
        end
    end)
    uis.InputEnded:Connect(function(input) if input.UserInputType == Enum.UserInputType.MouseButton1 then drag = false end end)
end

-- ‡∏£‡∏±‡∏ô‡∏£‡∏∞‡∏ö‡∏ö
CreateUI()
task.spawn(StartAutoFarm)
