-- [[ ·¥ò…™Íú±…™·¥õ Íú∞·¥òÍú±  ô·¥è·¥èÍú±·¥õ·¥á Ä - POTATO V2 ]]
-- OWNER: ‡πÑ‡∏Å‡∏£‡∏™‡∏£ ‡∏û‡∏¥‡∏™‡∏¥‡∏©‡∏ê‡πå ü´°

local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")
local Lighting = game:GetService("Lighting")
local Terrain = game:GetService("Workspace"):FindFirstChildOfClass("Terrain")
local LocalPlayer = Players.LocalPlayer

-- ‡∏•‡∏ö UI ‡πÄ‡∏Å‡πà‡∏≤‡∏ñ‡πâ‡∏≤‡∏°‡∏µ
if LocalPlayer.PlayerGui:FindFirstChild("PisitPotatoUI") then
    LocalPlayer.PlayerGui.PisitPotatoUI:Destroy()
end

local screenGui = Instance.new("ScreenGui", LocalPlayer.PlayerGui)
screenGui.Name = "PisitPotatoUI"
screenGui.ResetOnSpawn = false

-- ‡∏ï‡∏±‡∏ß‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏´‡∏•‡∏±‡∏Å (‡πÄ‡∏≠‡∏≤‡πÑ‡∏ß‡πâ‡∏•‡∏≤‡∏Å)
local MainFrame = Instance.new("Frame", screenGui)
MainFrame.Size = UDim2.new(0, 110, 0, 50)
MainFrame.Position = UDim2.new(0.8, 0, 0.5, 0)
MainFrame.BackgroundTransparency = 1

-- ‡∏õ‡∏∏‡πà‡∏°‡∏Å‡∏•‡∏°‡∏î‡πâ‡∏≤‡∏ô‡∏ã‡πâ‡∏≤‡∏¢ (‡∏ï‡∏±‡∏ß‡∏Å‡∏î‡∏´‡∏•‡∏±‡∏Å)
local mainBtn = Instance.new("TextButton", MainFrame)
mainBtn.Size = UDim2.new(0, 50, 0, 50)
mainBtn.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
mainBtn.Text = "FPS"
mainBtn.Font = "SourceSansBold"
mainBtn.TextSize = 16
mainBtn.TextColor3 = Color3.new(1, 1, 1)
Instance.new("UICorner", mainBtn).CornerRadius = UDim.new(1, 0)
local stroke = Instance.new("UIStroke", mainBtn); stroke.Thickness = 2; stroke.Color = Color3.new(1,1,1)

-- ‡∏õ‡∏∏‡πà‡∏°‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏î‡πâ‡∏≤‡∏ô‡∏Ç‡∏ß‡∏≤ (ON/OFF)
local toggleBtn = Instance.new("TextButton", MainFrame)
toggleBtn.Size = UDim2.new(0, 50, 0, 30)
toggleBtn.Position = UDim2.new(0, 55, 0.5, -15)
toggleBtn.BackgroundColor3 = Color3.fromRGB(200, 50, 50)
toggleBtn.Text = "OFF"
toggleBtn.Font = "SourceSansBold"
toggleBtn.TextSize = 14
toggleBtn.TextColor3 = Color3.new(1, 1, 1)
Instance.new("UICorner", toggleBtn).CornerRadius = UDim.new(0, 8)

-- ‡∏£‡∏∞‡∏ö‡∏ö‡∏•‡∏≤‡∏Å (Drag System)
local dragging, dragInput, dragStart, startPos
MainFrame.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
        dragging = true; dragStart = input.Position; startPos = MainFrame.Position
    end
end)
MainFrame.InputChanged:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch then dragInput = input end
end)
UserInputService.InputChanged:Connect(function(input)
    if input == dragInput and dragging then
        local delta = input.Position - dragStart
        MainFrame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
    end
end)
UserInputService.InputEnded:Connect(function(input) if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then dragging = false end end)

---------------------------------------------------------
-- [ ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏õ‡∏£‡∏±‡∏ö‡∏†‡∏≤‡∏û‡∏î‡∏¥‡∏ô‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô ]
---------------------------------------------------------
local isPotato = false

local function SetPotato(state)
    if state then
        toggleBtn.Text = "ON"
        toggleBtn.BackgroundColor3 = Color3.fromRGB(50, 200, 50)
        stroke.Color = Color3.fromRGB(50, 200, 50)
        
        -- ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏±‡∏ö‡∏†‡∏≤‡∏û
        for _, v in pairs(game:GetDescendants()) do
            if v:IsA("Part") or v:IsA("UnionOperation") or v:IsA("MeshPart") then
                v.Material = Enum.Material.SmoothPlastic
                v.Reflectance = 0
            elseif v:IsA("Decal") or v:IsA("Texture") then
                v.Transparency = 1
            elseif v:IsA("ParticleEmitter") or v:IsA("Trail") then
                v.Enabled = false
            end
        end
        Lighting.GlobalShadows = false
        settings().Rendering.QualityLevel = 1
        if Terrain then Terrain.WaterWaveSize = 0; Terrain.WaterWaveSpeed = 0 end
    else
        toggleBtn.Text = "OFF"
        toggleBtn.BackgroundColor3 = Color3.fromRGB(200, 50, 50)
        stroke.Color = Color3.new(1,1,1)
        -- (‡∏õ‡∏Å‡∏ï‡∏¥‡∏†‡∏≤‡∏û‡∏î‡∏¥‡∏ô‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô‡∏ñ‡πâ‡∏≤‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏ï‡πâ‡∏≠‡∏á‡πÇ‡∏´‡∏•‡∏î‡πÅ‡∏°‡∏û‡πÉ‡∏´‡∏°‡πà ‡πÅ‡∏ï‡πà‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏ï‡πâ‡∏ô‡∏Ñ‡∏∑‡∏≠‡∏õ‡∏¥‡∏î‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏Å‡πâ‡πÅ‡∏•‡∏Ñ)
    end
end

-- ‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏°‡πÑ‡∏´‡∏ô‡∏Å‡πá‡πÑ‡∏î‡πâ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏•‡∏±‡∏ö
local function toggle()
    isPotato = not isPotato
    SetPotato(isPotato)
end

mainBtn.MouseButton1Click:Connect(toggle)
toggleBtn.MouseButton1Click:Connect(toggle)
